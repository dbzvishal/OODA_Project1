<% content_for :header do -%>
    <%= stylesheet_link_tag 'bookings/tables' %>
<% end -%>

<p id="notice"><%= notice %></p>

<h1>Rooms</h1>

<h2>Search Room by parameters</h2>
<h4>Enter the following parameters:</h4>

<%= form_tag(rooms_path, :method => "get", id: "search_form") do %>

    <%= label_tag(:rnumber, "Room Number:") %>
    <%= text_field_tag :search, params[:search], placeholder: "Search Room based on Room ID" %>
    <br>

   <%# <%= label_tag(:size,"Size:")
    <%= select("room", "size", $room_sizes) %>
    <%#<br>

    <%# <%= label_tag(:bname,"Building:") %>
    <%# <%= select("room", "building_id", @buildings) %>
    <%# <br>

    <%= label_tag(:status, "Status:  ") %>
    <%# <td><%= select("room","status", %w[None Available Booked]) </td>%>
    <br><br>

    <%= submit_tag "Search" %>
    <% end %>


<br>
<br>


<table>
  <thead>
    <tr>
      <th>Room number</th>
      <th>Building name</th>
      <th>Size(Chairs)</th>
    </tr>
  </thead>

  <tbody>
    <% @rooms.each do |room| %>
      <tr>
        <td><%= room.rnumber %></td>
        <td><%= room.building.bname %></td>
        <td><%= Room.get_size_in_words room.size %>(<%= room.size %>)</td>
        <td> <%= link_to 'Show', show_room_path(room.rnumber) %></td>
        <td> <%= link_to 'Book the room', show_room_path(room.rnumber) %></td>
        <td> <%= link_to 'Delete', rooms_destroy_path(room.rnumber), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br />

<%= link_to 'New Room', add_room_path %><br /><br />
<%= link_to 'Back', options_path%>